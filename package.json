{
  "name": "root",
  "private": true,
  "devDependencies": {
    "lerna": "^3.22.1"
  },
  "dependencies": {
    "concurrently": "^5.3.0",
    "env-cmd": "^10.1.0"
  },
  "scripts": {
    "start": "env-cmd --silent concurrently -k -n api,jwk,gateway,app 'cd packages/api && npm start' 'cd packages/api/config/jwk && caddy file-server --listen 127.0.0.1:3099' 'cd packages/api && sleep 1 && krakend run --config gateway/api-development.json' 'cd packages/app && yarn dev'",
    "postinstall": "yarn api:install && yarn app:install",
    "test": "yarn api:test && yarn app:test",
    "test:integration": "env-cmd --silent concurrently -k --success first -n api,jwk,gateway,app,test 'cd packages/api && npm start' 'cd packages/api/config/jwk && caddy file-server --listen 127.0.0.1:3099' 'cd packages/api && sleep 1 && krakend run --config gateway/api-development.json' 'cd packages/app && yarn dev' 'cd packages/app && echo Waiting 5 seconds and running tests... && sleep 5 && yarn test'",
    "api:test": "env-cmd --use-shell --silent 'cd packages/api && yarn test'",
    "api:install": "cd packages/api && yarn install",
    "api:migrate": "env-cmd --use-shell --silent 'cd packages/api && yarn migrate'",
    "app:test": "cd packages/app && yarn test",
    "app:install": "cd packages/app && yarn install"
  }
}
